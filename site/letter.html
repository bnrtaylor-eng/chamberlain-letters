<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Viewing Letter</title>
  <link rel="stylesheet" href="css/style.css" />
  <style>
    body {
      font-family: Georgia, serif;
      margin: 0;
      padding: 0;
      background: #fdfdfd;
      color: #222;
      line-height: 1.6;
    }
    header {
      background-color: #334;
      color: white;
      padding: 2em 1em;
      text-align: center;
    }
    nav {
      background-color: #444;
      padding: 0.5em 1em;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }
    nav a {
      color: #fff;
      margin: 0 1em;
      text-decoration: none;
      font-weight: bold;
    }
    nav a:hover {
      text-decoration: underline;
    }
    main {
      max-width: 900px;
      margin: 2em auto;
      padding: 0 1em;
    }
    tei-p {
      display: block;
      margin-bottom: 1em;
    }
    tei-note[place="foot"] {
      display: block;
      font-size: 0.9em;
      margin-left: 1em;
      color: #555;
    }
    tei-head {
      display: block;
      font-weight: bold;
      font-size: 1.2em;
      margin-top: 1em;
    }
    footer {
      text-align: center;
      font-size: 0.9em;
      margin-top: 4em;
      color: #666;
    }
    tei-p {
  display: block;
  margin: 1em 0;
  line-height: 1.6;
  font-size: 1.1em;
}

tei-note[place="foot"] {
  display: block;
  font-size: 0.9em;
  color: #666;
  margin: 0.5em 1.5em;
  font-style: italic;
}

tei-head {
  display: block;
  font-weight: bold;
  font-size: 1.25em;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
}

tei-div {
  display: block;
  margin-bottom: 2em;
}

h2 {
  font-size: 1.5em;
  margin: 1.2em 0 0.5em;
}

p {
  margin: 1em 0;
  line-height: 1.6;
  font-size: 1.1em;
}

.tei-note {
  display: block;
  font-size: 0.9em;
  color: #666;
  margin: 0.5em 1.5em;
  font-style: italic;
}

#tei-content > section {
  margin-bottom: 3em;
  padding-bottom: 1em;
  border-bottom: 1px solid #ccc;
}

#tei-content .editor-note {
  background-color: #f9f9f9;
  padding: 1em;
  margin-top: 2em;
  border-left: 4px solid #999;
  font-style: italic;
}

.letter-text {
  margin-bottom: 2em;
  padding-bottom: 1em;
  border-bottom: 1px solid #ddd;
}
  </style>
</head>
<body>
  <header>
    <h1>Viewing Letter</h1>
  </header>
  <nav>
    <a href="index.html">Home</a>
    <a href="letters.html">Browse Letters</a>
    <a href="people/index.html">Personography</a>
    <a href="places/index.html">Placeography</a>
    <a href="works/index.html">Workography</a>
    <a href="orgs/index.html">Orgography</a>
    <a href="about.html">About</a>
    <a href="guidelines.html">Editorial Guidelines</a>
  </nav>
  <main>
    <div id="tei-content">Loading letter...</div>
  </main>
  <footer>
    Content licensed under
    <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer">
      CC BY 4.0</a>. Attribution to Brandon Taylor, project editor.
  </footer>

<script type="module">
  import CETEI from "./js/CETEI.js";
  import * as behaviors from "./js/behaviors.js";
  import * as defaultBehaviors from "./js/defaultBehaviors.js";
  import * as utilities from "./js/utilities.js";
  import * as dom from "./js/dom.js";

  const cetei = new CETEI({ behaviors, defaultBehaviors, utilities, dom });

  const params = new URLSearchParams(window.location.search);
  const file = params.get("file");

  if (file) {
    cetei.getHTML5(file, function(data) {
      const container = document.getElementById("tei-content");
      container.innerHTML = "";
      container.appendChild(data);
    });
  } else {
    document.getElementById("tei-content").innerText = "No letter specified.";
  }
</script>
</body>
</html>
